#!/usr/bin/env ruby

$LOAD_PATH << File.expand_path('../../lib', __FILE__)
require 'dependencies'

uri = ARGV[0]
cache_path = File.join(`pwd`.chomp, 'dependencies')

dependencies = Dependencies.new

if File.exist? cache_path
  file_path = File.join(cache_path, dependencies.find_translated_dependency(uri).gsub(/[\/:]/, '_'))

  puts "file://#{file_path}"
else
  puts dependencies.find_translated_dependency(uri)
end


